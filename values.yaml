global:
  projectName: bn-project
  appVersion: 0.0.1

keycloak:
  replicacount: 1
  kind: deployment
  fullnameOverride: keycloak

  auth:
    adminUser: admin
    adminPassword: password

  proxy: edge
  service:
    name: keycloak
    type: LoadBalancer # Oder ClusterIP + Ingress, wenn LoadBalancer nicht geht
    loadBalancerIP: 192.168.178.103
    port: 8080
    targetPort: 8080
    ports:
      http: 8080
      https: 8443

  # ingress nicht erforderlich wenn metalb verwendet wird    



  # readinessProbe:
  #   httpGet:
  #     path: /realms/master
  #     port: http
  #   initialDelaySeconds: 60
  #   timeoutSeconds: 5

  # resources:
  #   requests:
  #     memory: "512Mi"
  #     cpu: "500m"
  #   limits:
  #     memory: "512Mi"
  #     cpu: "1"

  postgresql:
    enabled: false 

  externalDatabase:
    host: "192.168.178.74" # Replace with the actual IP address of your Ubuntu machine
    database: "keycloak"
    user: "keycloak_user"
    password: "password"
    port: 5432
    existingSecret: ""

  extraEnvVars:
    - name: KEYCLOAK_LOG_LEVEL
      value: DEBUG
    - name: DB_VENDOR
      value: postgres
    - name: DB_ADDR
      value: "192.168.178.74" # Replace with the actual IP address of your Ubuntu machine
    - name: DB_DATABASE
      value: "keycloak"
    - name: DB_USER
      value: "keycloak_user"
    - name: DB_PASSWORD
      value: "password"
    - name: KEYCLOAK_IMPORT
      value: /opt/keycloak/config/config-keycloak.json

  extraVolumes:
    - name: keycloak-config-volume
      configMap:
        name: keycloak-config

  extraVolumeMounts:
    - name: keycloak-config-volume
      mountPath: /opt/keycloak/config/config-keycloak.json  # Muss mit dem ConfigMap-Key ï¿½bereinstimmen
      subPath: config-keycloak.json

zookeeper:
  replicaCount: 1
  persistence:
    enabled: true
    size: 8Gi
  resources:
    requests:
      memory: 512Mi
      cpu: 250m
    limits:
      memory: 1Gi
      cpu: 500m

kafka:
  replicaCount: 1
  persistence:
    enabled: true
    size: 10Gi
  resources:
    requests:
      memory: 1Gi
      cpu: 500m
    limits:
      memory: 2Gi
      cpu: 1000m